<script type="text/html" data-help-name="multi-controlled-u-gate">
  <p>
      This node allows you to apply a unitary (U) gate to a 'target' qubit if all 'control' qubits are in the '1' state.
      The MCU gate is the most general multi qubits gate, it can apply any rotation and a phase shift.
  </p>
  <p>
      To do this, open the node properties and enter the number of 'control' qubits.
      Connect the 'control' qubits and one 'target' qubit as inputs. 
      <br />
      Indicate the visual rank (higher, second higher ...) of the 'target' qubit among the connected qubits.
      <br />
      Then, use the sliders to set the values of the 3 gate parameters:
      <ul>
        <li>Theta (&#952;): the rotation angle in radians along the y-axis</li>
        <li>Phi (&#966;): the rotation angle in radians along the z-axis</li>
        <li>Lambda (&#955;): the angle in radians for the phase shift</li>
      </ul> 
      A phase shift correspond to adding a factor e<sup>i&#955;</sup> in front of the '1' state of the qubit. 
      If the qubit is in a superposition state, only the '1' state is affected by the phase.
      <br/><br/>
      In terms of the <b>Bloch Sphere</b>, this corresponds to rotations around
      the y and z-axis along with a phase shift of the 'target' qubit.
      The 'control' qubits states are not affected.
      <br /><br />
      <a href="https://qiskit.org/textbook/ch-states/single-qubit-gates.html#generalU">Unitary gate - Qiskit textbook</a><br/>
      <a href="https://qiskit.org/documentation/stubs/qiskit.circuit.QuantumCircuit.html#qiskit.circuit.QuantumCircuit.u">Unitary gate - Qiskit documentation</a>
      <br /><br />
      Now, let's assume we apply a U(&#960;,0,0) gate to a 'target' qubit in the '0' state. In this case the U gate is equivalent to a NOT gate (0 &#8594; 1 & 1 &#8594; 0).
      <br />
      Let's assume that we are using 2 'control' qubits that are in the same <b>superposition</b> state (50% '0' / 50% '1').
      Then the combined state of the 3 qubits will be:
      <ul>
          <li>'00 0' with 25% probability</li>
          <li>'01 0' with 25% probability</li>
          <li>'10 0' with 25% probability</li>
          <li>'11 1' with 25% probability</li>
      </ul>
      The 3 qubits are now connected by a 'spooky' phenomenon called <b>entanglement</b>.
      <br/><br/>
      <a href="https://qiskit.org/textbook/ch-gates/multiple-qubits-entangled-states.html#entangled">Entanglement - Qiskit textbook</a>  
      <br/><br/>
  </p>

  <h3>Inputs</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">object</span>
      </dt>
      <dd>The 'control' qubit objects and the 'target' qubit object.</dd>
      <dt class="optional">topic 
          <span class="property-type">string</span>
      </dt>
      <dd>"Quantum Circuit"</dd>
  </dl>

  <h3>Outputs</h3>
  <dl class="message-properties">
      <dt>payload
          <span class="property-type">object</span>
      </dt>
      <dd>The same qubit objects that were received as input.</dd>
      <dt class="optional">topic 
      <span class="property-type">string</span>
      </dt>
      <dd>"Quantum Circuit"</dd>
  </dl>

  <br />
  <h3>Details</h3>
      <br />
      <p>
          Qubit objects can be generated from:
          <ul>
          <li><i>Quantum Circuit</i> node in 'Bits only' mode.</li>
          <li><i>Quantum Register</i> node along with <i>Quantum Circuit</i> in 'Register' mode.</li>
          </ul>
          Unless specified, qubits are initialised in the 0 state.
          <br /><br />
          <b>
          For a brief summary of the main quantum computing concepts, please refer to the 
          <i>Details</i> section of the <i>Quantum Circuit</i> node.
          </b>
          <br /><br />
          <a href="https://flows.nodered.org/node/node-red-contrib-quantum">Node-RED Quantum documentation - Node-RED website</a><br/>
          <a href="https://www.npmjs.com/package/node-red-contrib-quantum">Node-RED Quantum documentation - NPM website</a>
          <br /><br />
      </p>
</script>

  